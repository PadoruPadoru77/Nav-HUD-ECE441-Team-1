<STHUDLayout>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color in RGBA
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation: 'vertical'
        padding: dp(10)
        spacing: dp(10)

        Button:
            id: bluetooth_button
            text: "Connect via Bluetooth"
            size_hint_y: None
            height: dp(40)
            # Remove or comment out the on_press action
            # on_press: root.bluetooth_status = "Connecting..."

        Label:
            id: bluetooth_status_label
            text: root.bluetooth_status
            color: 0, 0, 0, 1  # Set text color to black
            size_hint_y: None
            height: dp(20)
            font_size: '18sp'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(40)

            TextInput:
                id: address_input
                text: root.address
                multiline: False
                size_hint_x: 0.8
                on_text_validate: root.on_address_entered(self.text)

            Button:
                text: "Enter"
                size_hint_x: 0.2
                on_press: root.on_address_entered(address_input.text)


        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(310)

            Image:
                id: map_image
                source: root.map_image_path
                allow_stretch: True
                keep_ratio: True
                size_hint: 1, 1  # Adjust the height proportion to avoid cutoff
                pos_hint: {"x": 0, "y": 0}  
                height: dp(300)

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: dp(300)

                Label:
                    id: route_info_label
                    text: root.route_info
                    color: 0, 0, 0, 1  # Set text color to black
                    font_size: '18sp'
                    size_hint: 0.4, 0.1
                    pos_hint: {"x": 0, "top": 1}  # Aligns to the top of the map
                    height: dp(20)

                Label:
                    id: navigation_instruction_label
                    text: root.navigation_instruction
                    color: 0, 0, 0, 1  # Set text color to black
                    font_size: '16sp'
                    size_hint: 0.4, 0.1
                    pos_hint: {"x": 0, "top": 1}  # Aligns to the top of the map
                    height: dp(20)

                Label:
                    text: root.eta_info
                    pos_hint: {"x": 0.1, "y": 0.7}
                    color: 0, 0, 0, 1  # Set text color to black
                    size_hint: 0.4, 0.1
                    pos_hint: {"x": 0, "top": 1}  # Aligns to the top of the map
                    font_size: 16

